<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - CRYPBIT</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="home.css" />
    <link rel="stylesheet" href="login.css" />
  </head>
  <body>
    <!-- Header Section -->
    <header class="site-header">
      <div class="logo-container">
        <img src="image-removebg-preview.png" alt="Logo" />
      </div>

      <!-- Hamburger Menu -->
      <div class="hamburger-menu" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <!-- Mobile Navigation Menu -->
      <nav class="mobile-navigation" id="mobileNav">
        <ul class="nav-list">
          <li class="nav-item">
            <a href="index.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="about.html" class="nav-link">News</a>
          </li>
          <li class="nav-item">
            <a href="wallet.html" class="nav-link">Wallet</a>
          </li>
          <li class="nav-item">
            <a href="support.html" class="nav-link">Support</a>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Login Widget -->
    <div class="login-widget-container">
      <h2 class="login-title">Login to Wallet</h2>
      <form id="loginForm" class="login-form">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required />
    
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required />
    
        <button type="submit" class="submit-btn">Login</button>
        <p id="login-error" class="error-message"></p>
      </form>
    
      <!-- Add the Create Account button here -->
      <button id="createAccountBtn" class="submit-btn" onclick="window.location.href='create_account.html'">Create Account</button>
    </div>
    
    

    <!-- JavaScript -->
    <script>
      document.getElementById("loginForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the default form submission

        const formData = new FormData(this); // Collect form data

        fetch("login.php", {
          method: "POST",
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => {
            if (data.success) {
              // Redirect to the wallet page upon successful login
              window.location.href = "wallet.html";
            } else {
              // Display error message on failure
              const errorElement = document.getElementById("login-error");
              errorElement.textContent = data.message;
              errorElement.style.color = "red";
            }
          })
          .catch((error) => {
            console.error("Error:", error);
            const errorElement = document.getElementById("login-error");
            errorElement.textContent = "An error occurred. Please try again.";
            errorElement.style.color = "red";
          });
      });

      // Hamburger menu functionality
      const hamburger = document.getElementById("hamburger");
      const mobileNav = document.getElementById("mobileNav");

      hamburger.addEventListener("click", () => {
        mobileNav.classList.toggle("active");
      });

      document.addEventListener("click", (event) => {
        if (!mobileNav.contains(event.target) && !hamburger.contains(event.target)) {
          mobileNav.classList.remove("active");
        }
      });
    </script>
  </body>
</html>
